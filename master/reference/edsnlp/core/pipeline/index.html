<!DOCTYPE html>
<html class="no-js" lang="en"> <head><meta charset="utf-8"/><meta content="width=device-width,initial-scale=1" name="viewport"/><link href="../" rel="prev"/><link href="../registries/" rel="next"/><link href="../../../../assets/logo/edsnlp.svg" rel="icon"/><meta content="mkdocs-1.5.3, mkdocs-material-9.2.8" name="generator"/><title>pipeline - EDS-NLP</title><link href="../../../../assets/stylesheets/main.046329b4.min.css" rel="stylesheet"/><link href="../../../../assets/stylesheets/palette.85d0ee34.min.css" rel="stylesheet"/><link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/><link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link href="../../../../assets/_mkdocstrings.css" rel="stylesheet"/><link href="../../../../assets/stylesheets/extra.css" rel="stylesheet"/><link href="../../../../assets/stylesheets/cards.css" rel="stylesheet"/><link href="../../../../assets/termynal/termynal.css" rel="stylesheet"/><script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body data-md-color-accent="indigo" data-md-color-primary="indigo" data-md-color-scheme="default" dir="ltr"> <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script> <input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/> <input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/> <label class="md-overlay" for="__drawer"></label> <div data-md-component="skip"> <a class="md-skip" href="#edsnlpcorepipeline"> Skip to content </a> </div> <div data-md-component="announce"> <aside class="md-banner"> <div class="md-banner__inner md-grid md-typeset"> <button aria-label="Don't show this again" class="md-banner__button md-icon"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"></path></svg> </button> Check out the new <a href="../../../../tutorials/training">Model Training tutorial</a> ! </div> <script>var content,el=document.querySelector("[data-md-component=announce]");el&&(content=el.querySelector(".md-typeset"),__md_hash(content.innerHTML)===__md_get("__announce")&&(el.hidden=!0))</script> </aside> </div> <div data-md-color-scheme="default" data-md-component="outdated" hidden=""> </div> <header class="md-header md-header--shadow" data-md-component="header"> <nav aria-label="Header" class="md-header__inner md-grid"> <a aria-label="EDS-NLP" class="md-header__button md-logo" data-md-component="logo" href="../../../.." title="EDS-NLP"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"></path></svg> </a> <label class="md-header__button md-icon" for="__drawer"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg> </label> <div class="md-header__title" data-md-component="header-title"> <div class="md-header__ellipsis"> <div class="md-header__topic"> <span class="md-ellipsis"> EDS-NLP </span> </div> <div class="md-header__topic" data-md-component="header-topic"> <span class="md-ellipsis"> pipeline </span> </div> </div> </div> <form class="md-header__option" data-md-component="palette"> <input aria-label="Switch to dark mode" class="md-option" data-md-color-accent="indigo" data-md-color-media="" data-md-color-primary="indigo" data-md-color-scheme="default" id="__palette_1" name="__palette" type="radio"/> <label class="md-header__button md-icon" for="__palette_2" hidden="" title="Switch to dark mode"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"></path></svg> </label> <input aria-label="Switch to light mode" class="md-option" data-md-color-accent="indigo" data-md-color-media="" data-md-color-primary="indigo" data-md-color-scheme="slate" id="__palette_2" name="__palette" type="radio"/> <label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to light mode"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"></path></svg> </label> </form> <label class="md-header__button md-icon" for="__search"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg> </label> <div class="md-search" data-md-component="search" role="dialog"> <label class="md-search__overlay" for="__search"></label> <div class="md-search__inner" role="search"> <form class="md-search__form" name="search"> <input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/> <label class="md-search__icon md-icon" for="__search"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg> </label> <nav aria-label="Search" class="md-search__options"> <button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"></path></svg> </button> </nav> </form> <div class="md-search__output"> <div class="md-search__scrollwrap" data-md-scrollfix=""> <div class="md-search-result" data-md-component="search-result"> <div class="md-search-result__meta"> Initializing search </div> <ol class="md-search-result__list" role="presentation"></ol> </div> </div> </div> </div> </div> <div class="md-header__source"> <a class="md-source" data-md-component="source" href="https://github.com/aphp/edsnlp" title="Go to repository"> <div class="md-source__icon md-icon"> <svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!-- Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"></path></svg> </div> <div class="md-source__repository"> aphp/edsnlp </div> </a> </div> </nav> </header> <div class="md-container" data-md-component="container"> <main class="md-main" data-md-component="main"> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation"> <div class="md-sidebar__scrollwrap"> <div class="md-sidebar__inner"> <nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0"> <label class="md-nav__title" for="__drawer"> <a aria-label="EDS-NLP" class="md-nav__button md-logo" data-md-component="logo" href="../../../.." title="EDS-NLP"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"></path></svg> </a> EDS-NLP </label> <div class="md-nav__source"> <a class="md-source" data-md-component="source" href="https://github.com/aphp/edsnlp" title="Go to repository"> <div class="md-source__icon md-icon"> <svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!-- Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"></path></svg> </div> <div class="md-source__repository"> aphp/edsnlp </div> </a> </div> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="../../../.."> <span class="md-ellipsis"> Getting started </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="https://aphp.github.io/edsnlp/demo" target="_blank"> <span class="md-ellipsis"> Demo </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a class="md-nav__link" href="../../../../tutorials/"> <span class="md-ellipsis"> Tutorials </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a class="md-nav__link" href="../../../../pipes/"> <span class="md-ellipsis"> Pipes </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../../../tokenizers/"> <span class="md-ellipsis"> Tokenizers </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a class="md-nav__link" href="../../../../data/"> <span class="md-ellipsis"> Data Connectors </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a class="md-nav__link" href="../../../../concepts/pipeline/"> <span class="md-ellipsis"> Concepts </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a class="md-nav__link" href="../../../../utilities/"> <span class="md-ellipsis"> Utilities </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input checked="" class="md-nav__toggle md-toggle" id="__nav_9" type="checkbox"/> <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0"> <span class="md-ellipsis"> Code Reference </span> <span class="md-nav__icon md-icon"></span> </label> <nav aria-expanded="true" aria-labelledby="__nav_9_label" class="md-nav" data-md-level="1"> <label class="md-nav__title" for="__nav_9"> <span class="md-nav__icon md-icon"></span> Code Reference </label> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input checked="" class="md-nav__toggle md-toggle" id="__nav_9_1" type="checkbox"/> <div class="md-nav__link md-nav__container"> <a class="md-nav__link" href="../../"> <span class="md-ellipsis"> edsnlp </span> </a> <label class="md-nav__link" for="__nav_9_1"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav aria-expanded="true" aria-labelledby="__nav_9_1_label" class="md-nav" data-md-level="2"> <label class="md-nav__title" for="__nav_9_1"> <span class="md-nav__icon md-icon"></span> edsnlp </label> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="../../conjugator/"> <span class="md-ellipsis"> conjugator </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a class="md-nav__link" href="../../connectors/"> <span class="md-ellipsis"> connectors </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input checked="" class="md-nav__toggle md-toggle" id="__nav_9_1_4" type="checkbox"/> <div class="md-nav__link md-nav__container"> <a class="md-nav__link" href="../"> <span class="md-ellipsis"> core </span> </a> <label class="md-nav__link" for="__nav_9_1_4"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav aria-expanded="true" aria-labelledby="__nav_9_1_4_label" class="md-nav" data-md-level="3"> <label class="md-nav__title" for="__nav_9_1_4"> <span class="md-nav__icon md-icon"></span> core </label> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/> <label class="md-nav__link md-nav__link--active" for="__toc"> <span class="md-ellipsis"> pipeline </span> <span class="md-nav__icon md-icon"></span> </label> <a class="md-nav__link md-nav__link--active" href="./"> <span class="md-ellipsis"> pipeline </span> </a> <nav aria-label="Table of contents" class="md-nav md-nav--secondary"> <label class="md-nav__title" for="__toc"> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline"> Pipeline </a> <nav aria-label="Pipeline" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline--parameters"> Parameters </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.disabled"> disabled </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.cfg"> cfg </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.get_pipe"> get_pipe() </a> <nav aria-label="get_pipe()" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.get_pipe--parameters"> Parameters </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.has_pipe"> has_pipe() </a> <nav aria-label="has_pipe()" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.has_pipe--parameters"> Parameters </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.create_pipe"> create_pipe() </a> <nav aria-label="create_pipe()" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.create_pipe--parameters"> Parameters </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.add_pipe"> add_pipe() </a> <nav aria-label="add_pipe()" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.add_pipe--parameters"> Parameters </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.get_pipe_meta"> get_pipe_meta() </a> <nav aria-label="get_pipe_meta()" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.get_pipe_meta--parameters"> Parameters </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.make_doc"> make_doc() </a> <nav aria-label="make_doc()" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.make_doc--parameters"> Parameters </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.__call__"> __call__() </a> <nav aria-label="__call__()" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.__call__--parameters"> Parameters </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.pipe"> pipe() </a> <nav aria-label="pipe()" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.pipe--parameters"> Parameters </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.cache"> cache() </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.torch_components"> torch_components() </a> <nav aria-label="torch_components()" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.torch_components--parameters"> Parameters </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.connected_pipes_names"> connected_pipes_names() </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.post_init"> post_init() </a> <nav aria-label="post_init()" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.post_init--parameters"> Parameters </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.from_config"> from_config() </a> <nav aria-label="from_config()" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.from_config--parameters"> Parameters </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.__get_validators__"> __get_validators__() </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.validate"> validate() </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.preprocess_many"> preprocess_many() </a> <nav aria-label="preprocess_many()" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.preprocess_many--parameters"> Parameters </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.collate"> collate() </a> <nav aria-label="collate()" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.collate--parameters"> Parameters </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.parameters"> parameters() </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.named_parameters"> named_parameters() </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.to"> to() </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.train"> train() </a> <nav aria-label="train()" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.train--parameters"> Parameters </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.to_disk"> to_disk() </a> <nav aria-label="to_disk()" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.to_disk--parameters"> Parameters </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.from_disk"> from_disk() </a> <nav aria-label="from_disk()" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.from_disk--parameters"> Parameters </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.select_pipes"> select_pipes() </a> <nav aria-label="select_pipes()" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.select_pipes--parameters"> Parameters </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.blank"> blank() </a> <nav aria-label="blank()" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.blank--examples"> Examples </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.blank--parameters"> Parameters </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.load"> load() </a> <nav aria-label="load()" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.load--examples"> Examples </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.load--parameters"> Parameters </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.load_from_huggingface"> load_from_huggingface() </a> <nav aria-label="load_from_huggingface()" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.load_from_huggingface--parameters"> Parameters </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../registries/"> <span class="md-ellipsis"> registries </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../stream/"> <span class="md-ellipsis"> stream </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../torch_component/"> <span class="md-ellipsis"> torch_component </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a class="md-nav__link" href="../../data/"> <span class="md-ellipsis"> data </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../evaluate/"> <span class="md-ellipsis"> evaluate </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../extensions/"> <span class="md-ellipsis"> extensions </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../language/"> <span class="md-ellipsis"> language </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a class="md-nav__link" href="../../matchers/"> <span class="md-ellipsis"> matchers </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a class="md-nav__link" href="../../metrics/"> <span class="md-ellipsis"> metrics </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../package/"> <span class="md-ellipsis"> package </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../patch_spacy/"> <span class="md-ellipsis"> patch_spacy </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a class="md-nav__link" href="../../pipes/"> <span class="md-ellipsis"> pipes </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a class="md-nav__link" href="../../processing/"> <span class="md-ellipsis"> processing </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../reducers/"> <span class="md-ellipsis"> reducers </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../train/"> <span class="md-ellipsis"> train </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a class="md-nav__link" href="../../training/"> <span class="md-ellipsis"> training </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../tune/"> <span class="md-ellipsis"> tune </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a class="md-nav__link" href="../../utils/"> <span class="md-ellipsis"> utils </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a class="md-nav__link" href="../../viz/"> <span class="md-ellipsis"> viz </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../../../contributing/"> <span class="md-ellipsis"> Contributing to EDS-NLP </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../../../changelog/"> <span class="md-ellipsis"> Changelog </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc"> <div class="md-sidebar__scrollwrap"> <div class="md-sidebar__inner"> <nav aria-label="Table of contents" class="md-nav md-nav--secondary"> <label class="md-nav__title" for="__toc"> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline"> Pipeline </a> <nav aria-label="Pipeline" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline--parameters"> Parameters </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.disabled"> disabled </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.cfg"> cfg </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.get_pipe"> get_pipe() </a> <nav aria-label="get_pipe()" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.get_pipe--parameters"> Parameters </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.has_pipe"> has_pipe() </a> <nav aria-label="has_pipe()" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.has_pipe--parameters"> Parameters </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.create_pipe"> create_pipe() </a> <nav aria-label="create_pipe()" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.create_pipe--parameters"> Parameters </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.add_pipe"> add_pipe() </a> <nav aria-label="add_pipe()" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.add_pipe--parameters"> Parameters </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.get_pipe_meta"> get_pipe_meta() </a> <nav aria-label="get_pipe_meta()" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.get_pipe_meta--parameters"> Parameters </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.make_doc"> make_doc() </a> <nav aria-label="make_doc()" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.make_doc--parameters"> Parameters </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.__call__"> __call__() </a> <nav aria-label="__call__()" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.__call__--parameters"> Parameters </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.pipe"> pipe() </a> <nav aria-label="pipe()" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.pipe--parameters"> Parameters </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.cache"> cache() </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.torch_components"> torch_components() </a> <nav aria-label="torch_components()" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.torch_components--parameters"> Parameters </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.connected_pipes_names"> connected_pipes_names() </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.post_init"> post_init() </a> <nav aria-label="post_init()" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.post_init--parameters"> Parameters </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.from_config"> from_config() </a> <nav aria-label="from_config()" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.from_config--parameters"> Parameters </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.__get_validators__"> __get_validators__() </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.validate"> validate() </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.preprocess_many"> preprocess_many() </a> <nav aria-label="preprocess_many()" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.preprocess_many--parameters"> Parameters </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.collate"> collate() </a> <nav aria-label="collate()" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.collate--parameters"> Parameters </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.parameters"> parameters() </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.named_parameters"> named_parameters() </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.to"> to() </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.train"> train() </a> <nav aria-label="train()" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.train--parameters"> Parameters </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.to_disk"> to_disk() </a> <nav aria-label="to_disk()" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.to_disk--parameters"> Parameters </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.from_disk"> from_disk() </a> <nav aria-label="from_disk()" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.from_disk--parameters"> Parameters </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.select_pipes"> select_pipes() </a> <nav aria-label="select_pipes()" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.Pipeline.select_pipes--parameters"> Parameters </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.blank"> blank() </a> <nav aria-label="blank()" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.blank--examples"> Examples </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.blank--parameters"> Parameters </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.load"> load() </a> <nav aria-label="load()" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.load--examples"> Examples </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.load--parameters"> Parameters </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.load_from_huggingface"> load_from_huggingface() </a> <nav aria-label="load_from_huggingface()" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.core.pipeline.load_from_huggingface--parameters"> Parameters </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-content" data-md-component="content"> <article class="md-content__inner md-typeset"> <h1 id="edsnlpcorepipeline"><code>edsnlp.core.pipeline</code></h1> <div class="doc doc-object doc-module"> <div class="doc doc-contents first"> <div class="doc doc-children"> <div class="doc doc-object doc-class"> <h2 class="doc doc-heading sourced-heading" id="edsnlp.core.pipeline.Pipeline"> <code class="highlight language-python"><span class="n">Pipeline</span></code> <span class="sourced-heading-spacer"></span><a href="https://github.com/aphp/edsnlp/blob/2b366fc30/edsnlp/core/pipeline.py#L90" target="_blank">[source]</a></h2> <div class="doc doc-contents"> <p class="doc doc-class-bases"> Bases: <code><span title="edsnlp.utils.typing.Validated">Validated</span></code></p> <p>New pipeline to use as a drop-in replacement for spaCy's pipeline. It uses PyTorch as the deep-learning backend and allows components to share subcomponents.</p> <p>See the documentation for more details.</p> <h3 id="edsnlp.core.pipeline.Pipeline--parameters">Parameters</h3> <table> <thead> <tr> <th><b>PARAMETER</b></th> <th><b>DESCRIPTION</b></th> </tr> </thead> <tbody> <tr> <td><code>lang</code></td> <td class="doc-param-details"> <p>Language code</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code>str</code> </span> </p> </td> </tr> <tr> <td><code>create_tokenizer</code></td> <td class="doc-param-details"> <p>Function that creates a tokenizer for the pipeline</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code><span title="typing.Optional">Optional</span>[<span title="typing.Callable">Callable</span>[[<span title="typing_extensions.Self">Self</span>], <span title="spacy.tokenizer.Tokenizer">Tokenizer</span>]]</code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> <tr> <td><code>vocab</code></td> <td class="doc-param-details"> <p>Whether to create a new vocab or use an existing one</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code><span title="typing.Union">Union</span>[bool, <span title="spacy.vocab.Vocab">Vocab</span>]</code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code>True</code> </span> </p> </td> </tr> <tr> <td><code>vocab_config</code></td> <td class="doc-param-details"> <p>Configuration for the vocab</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code><span title="typing.Type">Type</span>[<span title="spacy.language.BaseDefaults">BaseDefaults</span>]</code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> <tr> <td><code>meta</code></td> <td class="doc-param-details"> <p>Meta information about the pipeline</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code><span title="typing.Dict">Dict</span>[str, <span title="typing.Any">Any</span>]</code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> </tbody> </table> <div class="doc doc-children"> <div class="doc doc-object doc-attribute"> <h3 class="doc doc-heading" id="edsnlp.core.pipeline.Pipeline.disabled"> <code class="highlight language-python"><span class="n">disabled</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> </h3> <div class="doc doc-contents"> <p>The names of the disabled components</p> </div> </div> <div class="doc doc-object doc-attribute"> <h3 class="doc doc-heading" id="edsnlp.core.pipeline.Pipeline.cfg"> <code class="highlight language-python"><span class="n">cfg</span><span class="p">:</span> <span class="n">Config</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-property"><code>property</code></small> </span> </h3> <div class="doc doc-contents"> <p>Returns the config of the pipeline, including the config of all components. Updated from spacy to allow references between components.</p> </div> </div> <div class="doc doc-object doc-function"> <h3 class="doc doc-heading sourced-heading" id="edsnlp.core.pipeline.Pipeline.get_pipe"> <code class="highlight language-python"><span class="n">get_pipe</span></code> <span class="sourced-heading-spacer"></span><a href="https://github.com/aphp/edsnlp/blob/2b366fc30/edsnlp/core/pipeline.py#L179" target="_blank">[source]</a></h3> <div class="doc doc-contents"> <p>Get a component by its name.</p> <h4 id="edsnlp.core.pipeline.Pipeline.get_pipe--parameters">Parameters</h4> <table> <thead> <tr> <th><b>PARAMETER</b></th> <th><b>DESCRIPTION</b></th> </tr> </thead> <tbody> <tr> <td><code>name</code></td> <td class="doc-param-details"> <p>The name of the component to get.</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code>str</code> </span> </p> </td> </tr> </tbody> </table> <table> <thead> <tr> <th><b>RETURNS</b></th> <th><b>DESCRIPTION</b></th> </tr> </thead> <tbody> <tr> <td> <span class="doc-returns-annotation"> <code><span title="edsnlp.core.pipeline.Pipe">Pipe</span></code> </span> </td> <td class="doc-returns-details"> <div class="doc-md-description"> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h3 class="doc doc-heading sourced-heading" id="edsnlp.core.pipeline.Pipeline.has_pipe"> <code class="highlight language-python"><span class="n">has_pipe</span></code> <span class="sourced-heading-spacer"></span><a href="https://github.com/aphp/edsnlp/blob/2b366fc30/edsnlp/core/pipeline.py#L197" target="_blank">[source]</a></h3> <div class="doc doc-contents"> <p>Check if a component exists in the pipeline.</p> <h4 id="edsnlp.core.pipeline.Pipeline.has_pipe--parameters">Parameters</h4> <table> <thead> <tr> <th><b>PARAMETER</b></th> <th><b>DESCRIPTION</b></th> </tr> </thead> <tbody> <tr> <td><code>name</code></td> <td class="doc-param-details"> <p>The name of the component to check.</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code>str</code> </span> </p> </td> </tr> </tbody> </table> <table> <thead> <tr> <th><b>RETURNS</b></th> <th><b>DESCRIPTION</b></th> </tr> </thead> <tbody> <tr> <td> <span class="doc-returns-annotation"> <code>bool</code> </span> </td> <td class="doc-returns-details"> <div class="doc-md-description"> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h3 class="doc doc-heading sourced-heading" id="edsnlp.core.pipeline.Pipeline.create_pipe"> <code class="highlight language-python"><span class="n">create_pipe</span></code> <span class="sourced-heading-spacer"></span><a href="https://github.com/aphp/edsnlp/blob/2b366fc30/edsnlp/core/pipeline.py#L212" target="_blank">[source]</a></h3> <div class="doc doc-contents"> <p>Create a component from a factory name.</p> <h4 id="edsnlp.core.pipeline.Pipeline.create_pipe--parameters">Parameters</h4> <table> <thead> <tr> <th><b>PARAMETER</b></th> <th><b>DESCRIPTION</b></th> </tr> </thead> <tbody> <tr> <td><code>factory</code></td> <td class="doc-param-details"> <p>The name of the factory to use</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code>str</code> </span> </p> </td> </tr> <tr> <td><code>name</code></td> <td class="doc-param-details"> <p>The name of the component</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code>str</code> </span> </p> </td> </tr> <tr> <td><code>config</code></td> <td class="doc-param-details"> <p>The config to pass to the factory</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code><span title="typing.Dict">Dict</span>[str, <span title="typing.Any">Any</span>]</code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> </tbody> </table> <table> <thead> <tr> <th><b>RETURNS</b></th> <th><b>DESCRIPTION</b></th> </tr> </thead> <tbody> <tr> <td> <span class="doc-returns-annotation"> <code><span title="edsnlp.core.pipeline.Pipe">Pipe</span></code> </span> </td> <td class="doc-returns-details"> <div class="doc-md-description"> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h3 class="doc doc-heading sourced-heading" id="edsnlp.core.pipeline.Pipeline.add_pipe"> <code class="highlight language-python"><span class="n">add_pipe</span></code> <span class="sourced-heading-spacer"></span><a href="https://github.com/aphp/edsnlp/blob/2b366fc30/edsnlp/core/pipeline.py#L251" target="_blank">[source]</a></h3> <div class="doc doc-contents"> <p>Add a component to the pipeline.</p> <h4 id="edsnlp.core.pipeline.Pipeline.add_pipe--parameters">Parameters</h4> <table> <thead> <tr> <th><b>PARAMETER</b></th> <th><b>DESCRIPTION</b></th> </tr> </thead> <tbody> <tr> <td><code>factory</code></td> <td class="doc-param-details"> <p>The name of the component to add or the component itself</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code><span title="typing.Union">Union</span>[str, <span title="edsnlp.core.pipeline.Pipe">Pipe</span>]</code> </span> </p> </td> </tr> <tr> <td><code>name</code></td> <td class="doc-param-details"> <p>The name of the component. If not provided, the name of the component will be used if it has one (.name), otherwise the factory name will be used.</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code><span title="typing.Optional">Optional</span>[str]</code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> <tr> <td><code>first</code></td> <td class="doc-param-details"> <p>Whether to add the component to the beginning of the pipeline. This argument is mutually exclusive with <code>before</code> and <code>after</code>.</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code>bool</code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code>False</code> </span> </p> </td> </tr> <tr> <td><code>before</code></td> <td class="doc-param-details"> <p>The name of the component to add the new component before. This argument is mutually exclusive with <code>after</code> and <code>first</code>.</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code><span title="typing.Optional">Optional</span>[str]</code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> <tr> <td><code>after</code></td> <td class="doc-param-details"> <p>The name of the component to add the new component after. This argument is mutually exclusive with <code>before</code> and <code>first</code>.</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code><span title="typing.Optional">Optional</span>[str]</code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> <tr> <td><code>config</code></td> <td class="doc-param-details"> <p>The arguments to pass to the component factory.</p> <p>Note that instead of replacing arguments with the same keys, the config will be merged with the default config of the component. This means that you can override specific nested arguments without having to specify the entire config.</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code><span title="typing.Optional">Optional</span>[<span title="typing.Dict">Dict</span>[str, <span title="typing.Any">Any</span>]]</code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> </tbody> </table> <table> <thead> <tr> <th><b>RETURNS</b></th> <th><b>DESCRIPTION</b></th> </tr> </thead> <tbody> <tr> <td> <span class="doc-returns-annotation"> <code><span title="edsnlp.core.pipeline.Pipe">Pipe</span></code> </span> </td> <td class="doc-returns-details"> <div class="doc-md-description"> <p>The component that was added to the pipeline.</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h3 class="doc doc-heading sourced-heading" id="edsnlp.core.pipeline.Pipeline.get_pipe_meta"> <code class="highlight language-python"><span class="n">get_pipe_meta</span></code> <span class="sourced-heading-spacer"></span><a href="https://github.com/aphp/edsnlp/blob/2b366fc30/edsnlp/core/pipeline.py#L327" target="_blank">[source]</a></h3> <div class="doc doc-contents"> <p>Get the meta information for a component.</p> <h4 id="edsnlp.core.pipeline.Pipeline.get_pipe_meta--parameters">Parameters</h4> <table> <thead> <tr> <th><b>PARAMETER</b></th> <th><b>DESCRIPTION</b></th> </tr> </thead> <tbody> <tr> <td><code>name</code></td> <td class="doc-param-details"> <p>The name of the component to get the meta for.</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code>str</code> </span> </p> </td> </tr> </tbody> </table> <table> <thead> <tr> <th><b>RETURNS</b></th> <th><b>DESCRIPTION</b></th> </tr> </thead> <tbody> <tr> <td> <span class="doc-returns-annotation"> <code><span title="typing.Dict">Dict</span>[str, <span title="typing.Any">Any</span>]</code> </span> </td> <td class="doc-returns-details"> <div class="doc-md-description"> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h3 class="doc doc-heading sourced-heading" id="edsnlp.core.pipeline.Pipeline.make_doc"> <code class="highlight language-python"><span class="n">make_doc</span></code> <span class="sourced-heading-spacer"></span><a href="https://github.com/aphp/edsnlp/blob/2b366fc30/edsnlp/core/pipeline.py#L343" target="_blank">[source]</a></h3> <div class="doc doc-contents"> <p>Create a Doc from text.</p> <h4 id="edsnlp.core.pipeline.Pipeline.make_doc--parameters">Parameters</h4> <table> <thead> <tr> <th><b>PARAMETER</b></th> <th><b>DESCRIPTION</b></th> </tr> </thead> <tbody> <tr> <td><code>text</code></td> <td class="doc-param-details"> <p>The text to create the Doc from.</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code>str</code> </span> </p> </td> </tr> </tbody> </table> <table> <thead> <tr> <th><b>RETURNS</b></th> <th><b>DESCRIPTION</b></th> </tr> </thead> <tbody> <tr> <td> <span class="doc-returns-annotation"> <code><span title="spacy.tokens.Doc">Doc</span></code> </span> </td> <td class="doc-returns-details"> <div class="doc-md-description"> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h3 class="doc doc-heading sourced-heading" id="edsnlp.core.pipeline.Pipeline.__call__"> <code class="highlight language-python"><span class="fm">__call__</span></code> <span class="sourced-heading-spacer"></span><a href="https://github.com/aphp/edsnlp/blob/2b366fc30/edsnlp/core/pipeline.py#L373" target="_blank">[source]</a></h3> <div class="doc doc-contents"> <p>Apply each component successively on a document.</p> <h4 id="edsnlp.core.pipeline.Pipeline.__call__--parameters">Parameters</h4> <table> <thead> <tr> <th><b>PARAMETER</b></th> <th><b>DESCRIPTION</b></th> </tr> </thead> <tbody> <tr> <td><code>text</code></td> <td class="doc-param-details"> <p>The text to create the Doc from, or a Doc.</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code><span title="typing.Union">Union</span>[str, <span title="spacy.tokens.Doc">Doc</span>]</code> </span> </p> </td> </tr> </tbody> </table> <table> <thead> <tr> <th><b>RETURNS</b></th> <th><b>DESCRIPTION</b></th> </tr> </thead> <tbody> <tr> <td> <span class="doc-returns-annotation"> <code><span title="spacy.tokens.Doc">Doc</span></code> </span> </td> <td class="doc-returns-details"> <div class="doc-md-description"> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h3 class="doc doc-heading sourced-heading" id="edsnlp.core.pipeline.Pipeline.pipe"> <code class="highlight language-python"><span class="n">pipe</span></code> <span class="sourced-heading-spacer"></span><a href="https://github.com/aphp/edsnlp/blob/2b366fc30/edsnlp/core/pipeline.py#L402" target="_blank">[source]</a></h3> <div class="doc doc-contents"> <p>Process a stream of documents by applying each component successively on batches of documents.</p> <h4 id="edsnlp.core.pipeline.Pipeline.pipe--parameters">Parameters</h4> <table> <thead> <tr> <th><b>PARAMETER</b></th> <th><b>DESCRIPTION</b></th> </tr> </thead> <tbody> <tr> <td><code>inputs</code></td> <td class="doc-param-details"> <p>The inputs to create the Docs from, or Docs directly.</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code><span title="typing.Union">Union</span>[<span title="typing.Iterable">Iterable</span>, <a class="autorefs autorefs-internal" href="../../../../concepts/inference/#edsnlp.core.stream.Stream" title="edsnlp.core.stream.Stream">Stream</a>]</code> </span> </p> </td> </tr> <tr> <td><code>n_process</code></td> <td class="doc-param-details"> <p>Deprecated. Use the ".set_processing(num_cpu_workers=n_process)" method on the returned data stream instead. The number of parallel workers to use. If 0, the operations will be executed sequentially.</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code>int</code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> </tbody> </table> <table> <thead> <tr> <th><b>RETURNS</b></th> <th><b>DESCRIPTION</b></th> </tr> </thead> <tbody> <tr> <td> <span class="doc-returns-annotation"> <code><a class="autorefs autorefs-internal" href="../../../../concepts/inference/#edsnlp.core.stream.Stream" title="edsnlp.core.stream.Stream">Stream</a></code> </span> </td> <td class="doc-returns-details"> <div class="doc-md-description"> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h3 class="doc doc-heading" id="edsnlp.core.pipeline.Pipeline.cache"> <code class="highlight language-python"><span class="n">cache</span></code> </h3> <div class="doc doc-contents"> <p>Enable caching for all (trainable) components in the pipeline</p> </div> </div> <div class="doc doc-object doc-function"> <h3 class="doc doc-heading sourced-heading" id="edsnlp.core.pipeline.Pipeline.torch_components"> <code class="highlight language-python"><span class="n">torch_components</span></code> <span class="sourced-heading-spacer"></span><a href="https://github.com/aphp/edsnlp/blob/2b366fc30/edsnlp/core/pipeline.py#L445" target="_blank">[source]</a></h3> <div class="doc doc-contents"> <p>Yields components that are PyTorch modules.</p> <h4 id="edsnlp.core.pipeline.Pipeline.torch_components--parameters">Parameters</h4> <table> <thead> <tr> <th><b>PARAMETER</b></th> <th><b>DESCRIPTION</b></th> </tr> </thead> <tbody> <tr> <td><code>disable</code></td> <td class="doc-param-details"> <p>The names of disabled components, which will be skipped.</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code><span title="typing.Container">Container</span>[str]</code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code>()</code> </span> </p> </td> </tr> </tbody> </table> <table> <thead> <tr> <th><b>RETURNS</b></th> <th><b>DESCRIPTION</b></th> </tr> </thead> <tbody> <tr> <td> <span class="doc-returns-annotation"> <code><span title="typing.Iterable">Iterable</span>[<span title="typing.Tuple">Tuple</span>[str, <a class="autorefs autorefs-internal" href="../../../../concepts/torch-component/#edsnlp.core.torch_component.TorchComponent" title="edsnlp.core.torch_component.TorchComponent">TorchComponent</a>]]</code> </span> </td> <td class="doc-returns-details"> <div class="doc-md-description"> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h3 class="doc doc-heading sourced-heading" id="edsnlp.core.pipeline.Pipeline.connected_pipes_names"> <code class="highlight language-python"><span class="n">connected_pipes_names</span></code> <span class="sourced-heading-spacer"></span><a href="https://github.com/aphp/edsnlp/blob/2b366fc30/edsnlp/core/pipeline.py#L464" target="_blank">[source]</a></h3> <div class="doc doc-contents"> <p>Returns a list of lists of connected components in the pipeline, i.e. components that share at least one parameter.</p> <table> <thead> <tr> <th><b>RETURNS</b></th> <th><b>DESCRIPTION</b></th> </tr> </thead> <tbody> <tr> <td> <span class="doc-returns-annotation"> <code><span title="typing.List">List</span>[<span title="typing.List">List</span>[str]]</code> </span> </td> <td class="doc-returns-details"> <div class="doc-md-description"> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h3 class="doc doc-heading sourced-heading" id="edsnlp.core.pipeline.Pipeline.post_init"> <code class="highlight language-python"><span class="n">post_init</span></code> <span class="sourced-heading-spacer"></span><a href="https://github.com/aphp/edsnlp/blob/2b366fc30/edsnlp/core/pipeline.py#L493" target="_blank">[source]</a></h3> <div class="doc doc-contents"> <p>Completes the initialization of the pipeline by calling the post_init method of all components that have one. This is useful for components that need to see some data to build their vocabulary, for instance.</p> <h4 id="edsnlp.core.pipeline.Pipeline.post_init--parameters">Parameters</h4> <table> <thead> <tr> <th><b>PARAMETER</b></th> <th><b>DESCRIPTION</b></th> </tr> </thead> <tbody> <tr> <td><code>data</code></td> <td class="doc-param-details"> <p>The documents to use for initialization. Each component will not necessarily see all the data.</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code><span title="typing.Iterable">Iterable</span>[<span title="spacy.tokens.Doc">Doc</span>]</code> </span> </p> </td> </tr> <tr> <td><code>exclude</code></td> <td class="doc-param-details"> <p>Components to exclude from post initialization on data</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code><span title="typing.Optional">Optional</span>[<span title="typing.Set">Set</span>]</code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h3 class="doc doc-heading" id="edsnlp.core.pipeline.Pipeline.from_config"> <code class="highlight language-python"><span class="n">from_config</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> </h3> <div class="doc doc-contents"> <p>Create a pipeline from a config object</p> <h4 id="edsnlp.core.pipeline.Pipeline.from_config--parameters">Parameters</h4> <table> <thead> <tr> <th><b>PARAMETER</b></th> <th><b>DESCRIPTION</b></th> </tr> </thead> <tbody> <tr> <td><code>config</code></td> <td class="doc-param-details"> <p>The config to use</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code><span title="typing.Union">Union</span>[<span title="typing.Dict">Dict</span>[str, <span title="typing.Any">Any</span>], <a class="autorefs autorefs-internal" href="../../../../concepts/pipeline/#edsnlp.core.pipeline.Pipeline" title="edsnlp.core.pipeline.Pipeline">Pipeline</a>]</code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code>{}</code> </span> </p> </td> </tr> <tr> <td><code>vocab</code></td> <td class="doc-param-details"> <p>The spaCy vocab to use. If True, a new vocab will be created</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code><span title="typing.Union">Union</span>[<span title="spacy.vocab.Vocab">Vocab</span>, bool]</code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code>True</code> </span> </p> </td> </tr> <tr> <td><code>disable</code></td> <td class="doc-param-details"> <p>Components to disable</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code><span title="typing.Union">Union</span>[str, <span title="typing.Iterable">Iterable</span>[str]]</code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code><span title="edsnlp.core.pipeline.EMPTY_LIST">EMPTY_LIST</span></code> </span> </p> </td> </tr> <tr> <td><code>enable</code></td> <td class="doc-param-details"> <p>Components to enable</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code><span title="typing.Union">Union</span>[str, <span title="typing.Iterable">Iterable</span>[str]]</code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code><span title="edsnlp.core.pipeline.EMPTY_LIST">EMPTY_LIST</span></code> </span> </p> </td> </tr> <tr> <td><code>exclude</code></td> <td class="doc-param-details"> <p>Components to exclude</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code><span title="typing.Union">Union</span>[str, <span title="typing.Iterable">Iterable</span>[str]]</code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code><span title="edsnlp.core.pipeline.EMPTY_LIST">EMPTY_LIST</span></code> </span> </p> </td> </tr> <tr> <td><code>meta</code></td> <td class="doc-param-details"> <p>Metadata to add to the pipeline</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code><span title="typing.Dict">Dict</span>[str, <span title="typing.Any">Any</span>]</code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code><a class="autorefs autorefs-internal" href="../../utils/collections/#edsnlp.utils.collections.FrozenDict" title="edsnlp.utils.collections.FrozenDict">FrozenDict</a>()</code> </span> </p> </td> </tr> </tbody> </table> <table> <thead> <tr> <th><b>RETURNS</b></th> <th><b>DESCRIPTION</b></th> </tr> </thead> <tbody> <tr> <td> <span class="doc-returns-annotation"> <code><a class="autorefs autorefs-internal" href="../../../../concepts/pipeline/#edsnlp.core.pipeline.Pipeline" title="edsnlp.core.pipeline.Pipeline">Pipeline</a></code> </span> </td> <td class="doc-returns-details"> <div class="doc-md-description"> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h3 class="doc doc-heading" id="edsnlp.core.pipeline.Pipeline.__get_validators__"> <code class="highlight language-python"><span class="n">__get_validators__</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> </h3> <div class="doc doc-contents"> <p>Pydantic validators generator</p> </div> </div> <div class="doc doc-object doc-function"> <h3 class="doc doc-heading" id="edsnlp.core.pipeline.Pipeline.validate"> <code class="highlight language-python"><span class="n">validate</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-classmethod"><code>classmethod</code></small> </span> </h3> <div class="doc doc-contents"> <p>Pydantic validator, used in the <code>validate_arguments</code> decorated functions</p> </div> </div> <div class="doc doc-object doc-function"> <h3 class="doc doc-heading sourced-heading" id="edsnlp.core.pipeline.Pipeline.preprocess_many"> <code class="highlight language-python"><span class="n">preprocess_many</span></code> <span class="sourced-heading-spacer"></span><a href="https://github.com/aphp/edsnlp/blob/2b366fc30/edsnlp/core/pipeline.py#L695" target="_blank">[source]</a></h3> <div class="doc doc-contents"> <p>Runs the preprocessing methods of each component in the pipeline on a collection of documents and returns an iterable of dictionaries containing the results, with the component names as keys.</p> <h4 id="edsnlp.core.pipeline.Pipeline.preprocess_many--parameters">Parameters</h4> <table> <thead> <tr> <th><b>PARAMETER</b></th> <th><b>DESCRIPTION</b></th> </tr> </thead> <tbody> <tr> <td><code>docs</code></td> <td class="doc-param-details"> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code><span title="typing.Iterable">Iterable</span>[<span title="spacy.tokens.Doc">Doc</span>]</code> </span> </p> </td> </tr> <tr> <td><code>compress</code></td> <td class="doc-param-details"> <p>Whether to deduplicate identical preprocessing outputs of the results if multiple documents share identical subcomponents. This step is required to enable the cache mechanism when training or running the pipeline over a tabular datasets such as pyarrow tables that do not store referential equality information.</p> <p> <span class="doc-param-default"> <b>DEFAULT:</b> <code>True</code> </span> </p> </td> </tr> <tr> <td><code>supervision</code></td> <td class="doc-param-details"> <p>Whether to include supervision information in the preprocessing</p> <p> <span class="doc-param-default"> <b>DEFAULT:</b> <code>True</code> </span> </p> </td> </tr> </tbody> </table> <table> <thead> <tr> <th><b>RETURNS</b></th> <th><b>DESCRIPTION</b></th> </tr> </thead> <tbody> <tr> <td> <span class="doc-returns-annotation"> <code><a class="autorefs autorefs-internal" href="../../../../concepts/inference/#edsnlp.core.stream.Stream" title="edsnlp.core.stream.Stream">Stream</a></code> </span> </td> <td class="doc-returns-details"> <div class="doc-md-description"> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h3 class="doc doc-heading sourced-heading" id="edsnlp.core.pipeline.Pipeline.collate"> <code class="highlight language-python"><span class="n">collate</span></code> <span class="sourced-heading-spacer"></span><a href="https://github.com/aphp/edsnlp/blob/2b366fc30/edsnlp/core/pipeline.py#L721" target="_blank">[source]</a></h3> <div class="doc doc-contents"> <p>Collates a batch of preprocessed samples into a single (maybe nested) dictionary of tensors by calling the collate method of each component.</p> <h4 id="edsnlp.core.pipeline.Pipeline.collate--parameters">Parameters</h4> <table> <thead> <tr> <th><b>PARAMETER</b></th> <th><b>DESCRIPTION</b></th> </tr> </thead> <tbody> <tr> <td><code>batch</code></td> <td class="doc-param-details"> <p>The batch of preprocessed samples</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code><span title="typing.Union">Union</span>[<span title="typing.Iterable">Iterable</span>[<span title="typing.Dict">Dict</span>[str, <span title="typing.Any">Any</span>]], <span title="typing.Dict">Dict</span>[str, <span title="typing.Any">Any</span>]]</code> </span> </p> </td> </tr> <tr> <td><code>device</code></td> <td class="doc-param-details"> <p>Should we move the tensors to a device, if so, which one?</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code><span title="typing.Optional">Optional</span>[<span title="typing.Union">Union</span>[str, <span title="torch.device">device</span>]]</code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> </tbody> </table> <table> <thead> <tr> <th><b>RETURNS</b></th> <th><b>DESCRIPTION</b></th> </tr> </thead> <tbody> <tr> <td> <span class="doc-returns-annotation"> <code><span title="typing.Dict">Dict</span>[str, <span title="typing.Any">Any</span>]</code> </span> </td> <td class="doc-returns-details"> <div class="doc-md-description"> <p>The collated batch</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h3 class="doc doc-heading sourced-heading" id="edsnlp.core.pipeline.Pipeline.parameters"> <code class="highlight language-python"><span class="n">parameters</span></code> <span class="sourced-heading-spacer"></span><a href="https://github.com/aphp/edsnlp/blob/2b366fc30/edsnlp/core/pipeline.py#L752" target="_blank">[source]</a></h3> <div class="doc doc-contents"> <p>Returns an iterator over the Pytorch parameters of the components in the pipeline</p> </div> </div> <div class="doc doc-object doc-function"> <h3 class="doc doc-heading sourced-heading" id="edsnlp.core.pipeline.Pipeline.named_parameters"> <code class="highlight language-python"><span class="n">named_parameters</span></code> <span class="sourced-heading-spacer"></span><a href="https://github.com/aphp/edsnlp/blob/2b366fc30/edsnlp/core/pipeline.py#L757" target="_blank">[source]</a></h3> <div class="doc doc-contents"> <p>Returns an iterator over the Pytorch parameters of the components in the pipeline</p> </div> </div> <div class="doc doc-object doc-function"> <h3 class="doc doc-heading sourced-heading" id="edsnlp.core.pipeline.Pipeline.to"> <code class="highlight language-python"><span class="n">to</span></code> <span class="sourced-heading-spacer"></span><a href="https://github.com/aphp/edsnlp/blob/2b366fc30/edsnlp/core/pipeline.py#L769" target="_blank">[source]</a></h3> <div class="doc doc-contents"> <p>Moves the pipeline to a given device</p> </div> </div> <div class="doc doc-object doc-function"> <h3 class="doc doc-heading sourced-heading" id="edsnlp.core.pipeline.Pipeline.train"> <code class="highlight language-python"><span class="n">train</span></code> <span class="sourced-heading-spacer"></span><a href="https://github.com/aphp/edsnlp/blob/2b366fc30/edsnlp/core/pipeline.py#L775" target="_blank">[source]</a></h3> <div class="doc doc-contents"> <p>Enables training mode on pytorch modules</p> <h4 id="edsnlp.core.pipeline.Pipeline.train--parameters">Parameters</h4> <table> <thead> <tr> <th><b>PARAMETER</b></th> <th><b>DESCRIPTION</b></th> </tr> </thead> <tbody> <tr> <td><code>mode</code></td> <td class="doc-param-details"> <p>Whether to enable training or not</p> <p> <span class="doc-param-default"> <b>DEFAULT:</b> <code>True</code> </span> </p> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h3 class="doc doc-heading sourced-heading" id="edsnlp.core.pipeline.Pipeline.to_disk"> <code class="highlight language-python"><span class="n">to_disk</span></code> <span class="sourced-heading-spacer"></span><a href="https://github.com/aphp/edsnlp/blob/2b366fc30/edsnlp/core/pipeline.py#L799" target="_blank">[source]</a></h3> <div class="doc doc-contents"> <p>Save the pipeline to a directory.</p> <h4 id="edsnlp.core.pipeline.Pipeline.to_disk--parameters">Parameters</h4> <table> <thead> <tr> <th><b>PARAMETER</b></th> <th><b>DESCRIPTION</b></th> </tr> </thead> <tbody> <tr> <td><code>path</code></td> <td class="doc-param-details"> <p>The path to the directory to save the pipeline to. Every component will be saved to separated subdirectories of this directory, except for tensors that will be saved to a shared files depending on the references between the components.</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code><span title="typing.Union">Union</span>[str, <span title="pathlib.Path">Path</span>]</code> </span> </p> </td> </tr> <tr> <td><code>exclude</code></td> <td class="doc-param-details"> <p>The names of the components, or attributes to exclude from the saving process. By default, the vocabulary is excluded since it may contain personal identifiers and can be rebuilt during inference.</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code><span title="typing.Optional">Optional</span>[<span title="typing.Set">Set</span>[str]]</code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h3 class="doc doc-heading sourced-heading" id="edsnlp.core.pipeline.Pipeline.from_disk"> <code class="highlight language-python"><span class="n">from_disk</span></code> <span class="sourced-heading-spacer"></span><a href="https://github.com/aphp/edsnlp/blob/2b366fc30/edsnlp/core/pipeline.py#L858" target="_blank">[source]</a></h3> <div class="doc doc-contents"> <p>Load the pipeline from a directory. Components will be updated in-place.</p> <h4 id="edsnlp.core.pipeline.Pipeline.from_disk--parameters">Parameters</h4> <table> <thead> <tr> <th><b>PARAMETER</b></th> <th><b>DESCRIPTION</b></th> </tr> </thead> <tbody> <tr> <td><code>path</code></td> <td class="doc-param-details"> <p>The path to the directory to load the pipeline from</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code><span title="typing.Union">Union</span>[str, <span title="pathlib.Path">Path</span>]</code> </span> </p> </td> </tr> <tr> <td><code>exclude</code></td> <td class="doc-param-details"> <p>The names of the components, or attributes to exclude from the loading process.</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code><span title="typing.Optional">Optional</span>[<span title="typing.Union">Union</span>[str, <span title="typing.Sequence">Sequence</span>[str]]]</code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> <tr> <td><code>device</code></td> <td class="doc-param-details"> <p>Device to use when loading the tensors</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code><span title="typing.Optional">Optional</span>[<span title="typing.Union">Union</span>[str, <span title="torch.device">device</span>]]</code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code>'cpu'</code> </span> </p> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h3 class="doc doc-heading sourced-heading" id="edsnlp.core.pipeline.Pipeline.select_pipes"> <code class="highlight language-python"><span class="n">select_pipes</span></code> <span class="sourced-heading-spacer"></span><a href="https://github.com/aphp/edsnlp/blob/2b366fc30/edsnlp/core/pipeline.py#L943" target="_blank">[source]</a></h3> <div class="doc doc-contents"> <p>Temporarily disable and enable components in the pipeline.</p> <h4 id="edsnlp.core.pipeline.Pipeline.select_pipes--parameters">Parameters</h4> <table> <thead> <tr> <th><b>PARAMETER</b></th> <th><b>DESCRIPTION</b></th> </tr> </thead> <tbody> <tr> <td><code>disable</code></td> <td class="doc-param-details"> <p>The name of the component to disable, or a list of names.</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code><span title="typing.Optional">Optional</span>[<span title="typing.Union">Union</span>[str, <span title="typing.Iterable">Iterable</span>[str]]]</code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> <tr> <td><code>enable</code></td> <td class="doc-param-details"> <p>The name of the component to enable, or a list of names.</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code><span title="typing.Optional">Optional</span>[<span title="typing.Union">Union</span>[str, <span title="typing.Iterable">Iterable</span>[str]]]</code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> </tbody> </table> </div> </div> </div> </div> </div> <div class="doc doc-object doc-function"> <h2 class="doc doc-heading sourced-heading" id="edsnlp.core.pipeline.blank"> <code class="highlight language-python"><span class="n">blank</span></code> <span class="sourced-heading-spacer"></span><a href="https://github.com/aphp/edsnlp/blob/2b366fc30/edsnlp/core/pipeline.py#L1066" target="_blank">[source]</a></h2> <div class="doc doc-contents"> <p>Loads an empty EDS-NLP Pipeline, similarly to <code>spacy.blank</code>. In addition to standard components, this pipeline supports EDS-NLP trainable torch components.</p> <h3 id="edsnlp.core.pipeline.blank--examples">Examples</h3> <div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">edsnlp</span><span class="o">,</span><span class="w"> </span><span class="nn">edsnlp.pipes</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">eds</span>

<span class="n">nlp</span> <span class="o">=</span> <span class="n">edsnlp</span><span class="o">.</span><span class="n"><html><head></head><body><a class="discrete-link" href="#edsnlp.core.pipeline.blank">blank</a></body></html></span><span class="p">(</span><span class="s2">"eds"</span><span class="p">)</span>
<span class="n">nlp</span><span class="o">.</span><span class="n"><html><head></head><body><a class="discrete-link" href="#edsnlp.core.pipeline.Pipeline.add_pipe">add_pipe</a></body></html></span><span class="p">(</span><a href="../../../../pipes/ner/covid/#edsnlp.pipes.ner.covid.factory.create_component">eds.covid</a><span class="p">())</span>
</code></pre></div> <h3 id="edsnlp.core.pipeline.blank--parameters">Parameters</h3> <table> <thead> <tr> <th><b>PARAMETER</b></th> <th><b>DESCRIPTION</b></th> </tr> </thead> <tbody> <tr> <td><code>lang</code></td> <td class="doc-param-details"> <p>Language ID, e.g. "en", "fr", "eds", etc.</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code>str</code> </span> </p> </td> </tr> <tr> <td><code>config</code></td> <td class="doc-param-details"> <p>The config to use for the pipeline</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code><span title="typing.Union">Union</span>[<span title="typing.Dict">Dict</span>[str, <span title="typing.Any">Any</span>], <span title="confit.Config">Config</span>]</code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code>{}</code> </span> </p> </td> </tr> </tbody> </table> <table> <thead> <tr> <th><b>RETURNS</b></th> <th><b>DESCRIPTION</b></th> </tr> </thead> <tbody> <tr> <td> <span class="doc-returns-annotation"> <code><a class="autorefs autorefs-internal" href="../../../../concepts/pipeline/#edsnlp.core.pipeline.Pipeline" title="edsnlp.core.pipeline.Pipeline">Pipeline</a></code> </span> </td> <td class="doc-returns-details"> <div class="doc-md-description"> <p>The new empty pipeline instance.</p> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h2 class="doc doc-heading sourced-heading" id="edsnlp.core.pipeline.load"> <code class="highlight language-python"><span class="n">load</span></code> <span class="sourced-heading-spacer"></span><a href="https://github.com/aphp/edsnlp/blob/2b366fc30/edsnlp/core/pipeline.py#L1109" target="_blank">[source]</a></h2> <div class="doc doc-contents"> <p>Load a pipeline from a config file or a directory.</p> <h3 id="edsnlp.core.pipeline.load--examples">Examples</h3> <div class="no-check highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">edsnlp</span>

<span class="n">nlp</span> <span class="o">=</span> <span class="n">edsnlp</span><span class="o">.</span><span class="n"><html><head></head><body><a class="discrete-link" href="#edsnlp.core.pipeline.load">load</a></body></html></span><span class="p">(</span>
    <span class="s2">"path/to/config.cfg"</span><span class="p">,</span>
    <span class="n">overrides</span><span class="o">=</span><span class="p">{</span><span class="s2">"components"</span><span class="p">:</span> <span class="p">{</span><span class="s2">"my_component"</span><span class="p">:</span> <span class="p">{</span><span class="s2">"arg"</span><span class="p">:</span> <span class="s2">"value"</span><span class="p">}}},</span>
<span class="p">)</span>
</code></pre></div> <h3 id="edsnlp.core.pipeline.load--parameters">Parameters</h3> <table> <thead> <tr> <th><b>PARAMETER</b></th> <th><b>DESCRIPTION</b></th> </tr> </thead> <tbody> <tr> <td><code>model</code></td> <td class="doc-param-details"> <p>The config to use for the pipeline, or the path to a config file or a directory.</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code><span title="typing.Union">Union</span>[str, <span title="pathlib.Path">Path</span>, <span title="confit.Config">Config</span>]</code> </span> </p> </td> </tr> <tr> <td><code>overrides</code></td> <td class="doc-param-details"> <p>Overrides to apply to the config when loading the pipeline. These are the same parameters as the ones used when initializing the pipeline.</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code><span title="typing.Optional">Optional</span>[<span title="typing.Dict">Dict</span>[str, <span title="typing.Any">Any</span>]]</code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> <tr> <td><code>exclude</code></td> <td class="doc-param-details"> <p>The names of the components, or attributes to exclude from the loading process. <img alt="" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@15.1.0/assets/svg/26a0.svg" title=":warning:"/> The <code>exclude</code> argument will be mutated in place.</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code><span title="typing.Optional">Optional</span>[<span title="edsnlp.utils.typing.AsList">AsList</span>[str]]</code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code><span title="edsnlp.core.pipeline.EMPTY_LIST">EMPTY_LIST</span></code> </span> </p> </td> </tr> <tr> <td><code>auto_update</code></td> <td class="doc-param-details"> <p>When installing a pipeline from the Hugging Face Hub, whether to automatically try to update the model, even if a local version is found. Only applies when loading from the Hugging Face Hub.</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code>bool</code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code>False</code> </span> </p> </td> </tr> <tr> <td><code>install_dependencies</code></td> <td class="doc-param-details"> <p>When installing a pipeline from the Hugging Face Hub, whether to install the dependencies of the model if they are not already installed. Only applies when loading from the Hugging Face Hub.</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code>bool</code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code>False</code> </span> </p> </td> </tr> </tbody> </table> <table> <thead> <tr> <th><b>RETURNS</b></th> <th><b>DESCRIPTION</b></th> </tr> </thead> <tbody> <tr> <td> <span class="doc-returns-annotation"> <code><a class="autorefs autorefs-internal" href="../../../../concepts/pipeline/#edsnlp.core.pipeline.Pipeline" title="edsnlp.core.pipeline.Pipeline">Pipeline</a></code> </span> </td> <td class="doc-returns-details"> <div class="doc-md-description"> </div> </td> </tr> </tbody> </table> </div> </div> <div class="doc doc-object doc-function"> <h2 class="doc doc-heading sourced-heading" id="edsnlp.core.pipeline.load_from_huggingface"> <code class="highlight language-python"><span class="n">load_from_huggingface</span></code> <span class="sourced-heading-spacer"></span><a href="https://github.com/aphp/edsnlp/blob/2b366fc30/edsnlp/core/pipeline.py#L1243" target="_blank">[source]</a></h2> <div class="doc doc-contents"> <p>Load a model from the Hugging Face Hub.</p> <h3 id="edsnlp.core.pipeline.load_from_huggingface--parameters">Parameters</h3> <table> <thead> <tr> <th><b>PARAMETER</b></th> <th><b>DESCRIPTION</b></th> </tr> </thead> <tbody> <tr> <td><code>repo_id</code></td> <td class="doc-param-details"> <p>The repository ID of the model to load (e.g. "username/repo_name").</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code>str</code> </span> </p> </td> </tr> <tr> <td><code>auto_update</code></td> <td class="doc-param-details"> <p>Whether to automatically try to update the model, even if a local version is found.</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code>bool</code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code>False</code> </span> </p> </td> </tr> <tr> <td><code>install_dependencies</code></td> <td class="doc-param-details"> <p>Whether to install the dependencies of the model if they are not already installed.</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code>bool</code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code>False</code> </span> </p> </td> </tr> <tr> <td><code>token</code></td> <td class="doc-param-details"> <p>The Hugging Face Hub API token to use.</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code><span title="typing.Optional">Optional</span>[str]</code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> <tr> <td><code>revision</code></td> <td class="doc-param-details"> <p>The revision of the model to load.</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code><span title="typing.Optional">Optional</span>[str]</code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> <tr> <td><code>kwargs</code></td> <td class="doc-param-details"> <p>Additional keyword arguments to pass to the model's <code>load</code> method.</p> <p> <span class="doc-param-default"> <b>DEFAULT:</b> <code>{}</code> </span> </p> </td> </tr> </tbody> </table> </div> </div> </div> </div> </div> <div class="footnote"><hr/><ol></ol></div> </article> </div> </div> <button class="md-top md-icon" data-md-component="top" hidden="" type="button"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"></path></svg> Back to top </button> </main> <footer class="md-footer"> <nav aria-label="Footer" class="md-footer__inner md-grid"> <a aria-label="Previous: index.md" class="md-footer__link md-footer__link--prev" href="../" rel="prev"> <div class="md-footer__button md-icon"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg> </div> <div class="md-footer__title"> <span class="md-footer__direction"> Previous </span> <div class="md-ellipsis"> index.md </div> </div> </a> <a aria-label="Next: registries" class="md-footer__link md-footer__link--next" href="../registries/" rel="next"> <div class="md-footer__title"> <span class="md-footer__direction"> Next </span> <div class="md-ellipsis"> registries </div> </div> <div class="md-footer__button md-icon"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"></path></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class="md-copyright"> Made with <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank"> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class="md-dialog" data-md-component="dialog"> <div class="md-dialog__inner md-typeset"></div> </div> <script id="__config" type="application/json">{"base": "../../../..", "features": ["navigation.tracking", "navigation.instant", "navigation.indexes", "navigation.prune", "navigation.top", "navigation.footer", "content.code.annotate", "content.code.copy", "announce.dismiss"], "search": "../../../../assets/javascripts/workers/search.dfff1995.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"default": "latest", "provider": "mike"}}</script> <script src="../../../../assets/javascripts/bundle.dff1b7c8.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/vega@5"></script> <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script> <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script> <script src="../../../../assets/termynal/termynal.js"></script> </body> </html>