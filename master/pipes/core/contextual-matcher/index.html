<!DOCTYPE html>
<html class="no-js" lang="en"> <head><meta charset="utf-8"/><meta content="width=device-width,initial-scale=1" name="viewport"/><link href="../terminology/" rel="prev"/><link href="../endlines/" rel="next"/><link href="../../../assets/logo/edsnlp.svg" rel="icon"/><meta content="mkdocs-1.6.1, mkdocs-material-9.5.42" name="generator"/><title>Contextual Matcher - EDS-NLP</title><link href="../../../assets/stylesheets/main.0253249f.min.css" rel="stylesheet"/><link href="../../../assets/stylesheets/palette.06af60db.min.css" rel="stylesheet"/><link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/><link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link href="../../../assets/_mkdocstrings.css" rel="stylesheet"/><link href="../../../assets/stylesheets/extra.css" rel="stylesheet"/><link href="../../../assets/stylesheets/cards.css" rel="stylesheet"/><link href="../../../assets/termynal/termynal.css" rel="stylesheet"/><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body data-md-color-accent="indigo" data-md-color-primary="indigo" data-md-color-scheme="default" dir="ltr"> <input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/> <input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/> <label class="md-overlay" for="__drawer"></label> <div data-md-component="skip"> <a class="md-skip" href="#edsnlp.pipes.core.contextual_matcher.factory.create_component"> Skip to content </a> </div> <div data-md-component="announce"> <aside class="md-banner"> <div class="md-banner__inner md-grid md-typeset"> <button aria-label="Don't show this again" class="md-banner__button md-icon"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg> </button> Check out the new <a href="../../../tutorials/training">Model Training tutorial</a> ! </div> <script>var el=document.querySelector("[data-md-component=announce]");if(el){var content=el.querySelector(".md-typeset");__md_hash(content.innerHTML)===__md_get("__announce")&&(el.hidden=!0)}</script> </aside> </div> <div data-md-color-scheme="default" data-md-component="outdated" hidden=""> </div> <header class="md-header md-header--shadow" data-md-component="header"> <nav aria-label="Header" class="md-header__inner md-grid"> <a aria-label="EDS-NLP" class="md-header__button md-logo" data-md-component="logo" href="../../.." title="EDS-NLP"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"></path></svg> </a> <label class="md-header__button md-icon" for="__drawer"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg> </label> <div class="md-header__title" data-md-component="header-title"> <div class="md-header__ellipsis"> <div class="md-header__topic"> <span class="md-ellipsis"> EDS-NLP </span> </div> <div class="md-header__topic" data-md-component="header-topic"> <span class="md-ellipsis"> Contextual Matcher </span> </div> </div> </div> <form class="md-header__option" data-md-component="palette"> <input aria-label="Switch to dark mode" class="md-option" data-md-color-accent="indigo" data-md-color-media="" data-md-color-primary="indigo" data-md-color-scheme="default" id="__palette_0" name="__palette" type="radio"/> <label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to dark mode"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg> </label> <input aria-label="Switch to light mode" class="md-option" data-md-color-accent="indigo" data-md-color-media="" data-md-color-primary="indigo" data-md-color-scheme="slate" id="__palette_1" name="__palette" type="radio"/> <label class="md-header__button md-icon" for="__palette_0" hidden="" title="Switch to light mode"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for="__search"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg> </label> <div class="md-search" data-md-component="search" role="dialog"> <label class="md-search__overlay" for="__search"></label> <div class="md-search__inner" role="search"> <form class="md-search__form" name="search"> <input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/> <label class="md-search__icon md-icon" for="__search"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg> </label> <nav aria-label="Search" class="md-search__options"> <button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg> </button> </nav> </form> <div class="md-search__output"> <div class="md-search__scrollwrap" data-md-scrollfix="" tabindex="0"> <div class="md-search-result" data-md-component="search-result"> <div class="md-search-result__meta"> Initializing search </div> <ol class="md-search-result__list" role="presentation"></ol> </div> </div> </div> </div> </div> <div class="md-header__source"> <a class="md-source" data-md-component="source" href="https://github.com/aphp/edsnlp" title="Go to repository"> <div class="md-source__icon md-icon"> <svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"></path></svg> </div> <div class="md-source__repository"> aphp/edsnlp </div> </a> </div> </nav> </header> <div class="md-container" data-md-component="container"> <main class="md-main" data-md-component="main"> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation"> <div class="md-sidebar__scrollwrap"> <div class="md-sidebar__inner"> <nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0"> <label class="md-nav__title" for="__drawer"> <a aria-label="EDS-NLP" class="md-nav__button md-logo" data-md-component="logo" href="../../.." title="EDS-NLP"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"></path></svg> </a> EDS-NLP </label> <div class="md-nav__source"> <a class="md-source" data-md-component="source" href="https://github.com/aphp/edsnlp" title="Go to repository"> <div class="md-source__icon md-icon"> <svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!-- Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"></path></svg> </div> <div class="md-source__repository"> aphp/edsnlp </div> </a> </div> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="../../.."> <span class="md-ellipsis"> Getting started </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="https://aphp.github.io/edsnlp/demo" target="_blank"> <span class="md-ellipsis"> Demo </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a class="md-nav__link" href="../../../tutorials/"> <span class="md-ellipsis"> Tutorials </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input checked="" class="md-nav__toggle md-toggle" id="__nav_4" type="checkbox"/> <div class="md-nav__link md-nav__container"> <a class="md-nav__link" href="../../"> <span class="md-ellipsis"> Pipes </span> </a> <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav aria-expanded="true" aria-labelledby="__nav_4_label" class="md-nav" data-md-level="1"> <label class="md-nav__title" for="__nav_4"> <span class="md-nav__icon md-icon"></span> Pipes </label> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="../../"> <span class="md-ellipsis"> Overview </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input checked="" class="md-nav__toggle md-toggle" id="__nav_4_3" type="checkbox"/> <div class="md-nav__link md-nav__container"> <a class="md-nav__link" href="../"> <span class="md-ellipsis"> Core Pipelines </span> </a> <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0"> <span class="md-nav__icon md-icon"></span> </label> </div> <nav aria-expanded="true" aria-labelledby="__nav_4_3_label" class="md-nav" data-md-level="2"> <label class="md-nav__title" for="__nav_4_3"> <span class="md-nav__icon md-icon"></span> Core Pipelines </label> <ul class="md-nav__list" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="../"> <span class="md-ellipsis"> Overview </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../normalizer/"> <span class="md-ellipsis"> Normalisation </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../sentences/"> <span class="md-ellipsis"> Sentences </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../matcher/"> <span class="md-ellipsis"> Matcher </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../terminology/"> <span class="md-ellipsis"> Terminology </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/> <label class="md-nav__link md-nav__link--active" for="__toc"> <span class="md-ellipsis"> Contextual Matcher </span> <span class="md-nav__icon md-icon"></span> </label> <a class="md-nav__link md-nav__link--active" href="./"> <span class="md-ellipsis"> Contextual Matcher </span> </a> <nav aria-label="Table of contents" class="md-nav md-nav--secondary"> <label class="md-nav__title" for="__toc"> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="#the-configuration-file"> <span class="md-ellipsis"> The configuration file </span> </a> <nav aria-label="The configuration file" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#a-finding-mentions-of-cancer"> <span class="md-ellipsis"> a. Finding mentions of cancer </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#b-find-mention-of-a-stage-and-extract-its-value"> <span class="md-ellipsis"> b. Find mention of a stage and extract its value </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#c-the-complete-configuration"> <span class="md-ellipsis"> c. The complete configuration </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#available-parameters-for-more-flexibility"> <span class="md-ellipsis"> Available parameters for more flexibility </span> </a> <nav aria-label="Available parameters for more flexibility" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#the-include_assigned-parameter"> <span class="md-ellipsis"> The include_assigned parameter </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#the-reduce_mode-parameter"> <span class="md-ellipsis"> The reduce_mode parameter </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#the-replace_entity-parameter"> <span class="md-ellipsis"> The replace_entity parameter </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#examples"> <span class="md-ellipsis"> Examples </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#the-pattern-dictionary"> <span class="md-ellipsis"> The pattern dictionary </span> </a> <nav aria-label="The pattern dictionary" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#description"> <span class="md-ellipsis"> Description </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#a-full-pattern-dictionary-example"> <span class="md-ellipsis"> A full pattern dictionary example </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.pipes.core.contextual_matcher.factory.create_component--parameters"> <span class="md-ellipsis"> Parameters </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#authors-and-citation"> <span class="md-ellipsis"> Authors and citation </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../endlines/"> <span class="md-ellipsis"> Endlines </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a class="md-nav__link" href="../../qualifiers/"> <span class="md-ellipsis"> Qualifiers </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a class="md-nav__link" href="../../misc/"> <span class="md-ellipsis"> Miscellaneous </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a class="md-nav__link" href="../../ner/"> <span class="md-ellipsis"> Named Entity Recognition </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a class="md-nav__link" href="../../trainable/"> <span class="md-ellipsis"> Trainable components </span> <span class="md-nav__icon md-icon"></span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../../tokenizers/"> <span class="md-ellipsis"> Tokenizers </span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a class="md-nav__link" href="../../../data/"> <span class="md-ellipsis"> Data Connectors </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a class="md-nav__link" href="../../../concepts/pipeline/"> <span class="md-ellipsis"> Concepts </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a class="md-nav__link" href="../../../utilities/"> <span class="md-ellipsis"> Utilities </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item md-nav__item--pruned md-nav__item--nested"> <a class="md-nav__link" href="../../../reference/edsnlp/"> <span class="md-ellipsis"> Code Reference </span> <span class="md-nav__icon md-icon"></span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../../contributing/"> <span class="md-ellipsis"> Contributing to EDS-NLP </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="../../../changelog/"> <span class="md-ellipsis"> Changelog </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc"> <div class="md-sidebar__scrollwrap"> <div class="md-sidebar__inner"> <nav aria-label="Table of contents" class="md-nav md-nav--secondary"> <label class="md-nav__title" for="__toc"> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix=""> <li class="md-nav__item"> <a class="md-nav__link" href="#the-configuration-file"> <span class="md-ellipsis"> The configuration file </span> </a> <nav aria-label="The configuration file" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#a-finding-mentions-of-cancer"> <span class="md-ellipsis"> a. Finding mentions of cancer </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#b-find-mention-of-a-stage-and-extract-its-value"> <span class="md-ellipsis"> b. Find mention of a stage and extract its value </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#c-the-complete-configuration"> <span class="md-ellipsis"> c. The complete configuration </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#available-parameters-for-more-flexibility"> <span class="md-ellipsis"> Available parameters for more flexibility </span> </a> <nav aria-label="Available parameters for more flexibility" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#the-include_assigned-parameter"> <span class="md-ellipsis"> The include_assigned parameter </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#the-reduce_mode-parameter"> <span class="md-ellipsis"> The reduce_mode parameter </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#the-replace_entity-parameter"> <span class="md-ellipsis"> The replace_entity parameter </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#examples"> <span class="md-ellipsis"> Examples </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#the-pattern-dictionary"> <span class="md-ellipsis"> The pattern dictionary </span> </a> <nav aria-label="The pattern dictionary" class="md-nav"> <ul class="md-nav__list"> <li class="md-nav__item"> <a class="md-nav__link" href="#description"> <span class="md-ellipsis"> Description </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#a-full-pattern-dictionary-example"> <span class="md-ellipsis"> A full pattern dictionary example </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#edsnlp.pipes.core.contextual_matcher.factory.create_component--parameters"> <span class="md-ellipsis"> Parameters </span> </a> </li> <li class="md-nav__item"> <a class="md-nav__link" href="#authors-and-citation"> <span class="md-ellipsis"> Authors and citation </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-content" data-md-component="content"> <article class="md-content__inner md-typeset"> <h1 class="sourced-heading" id="edsnlp.pipes.core.contextual_matcher.factory.create_component">Contextual Matcher<span class="sourced-heading-spacer"></span><a href="https://github.com/aphp/edsnlp/blob/1ebc7d72c/edsnlp/pipes/core/contextual_matcher/contextual_matcher.py#L36" target="_blank">[source]</a></h1> <p>During feature extraction, it may be necessary to search for additional patterns in their neighborhood, namely:</p> <ul> <li>patterns to discard irrelevant entities</li> <li>patterns to enrich these entities and store some information</li> </ul> <p>For example, to extract mentions of non-benign cancers, we need to discard all extractions that mention "benin" in their immediate neighborhood. Although such a filtering is feasible using a regular expression, it essentially requires modifying each of the regular expressions.</p> <p>The ContextualMatcher allows to perform this extraction in a clear and concise way.</p> <h2 id="the-configuration-file">The configuration file</h2> <p>The whole ContextualMatcher pipeline component is basically defined as a list of <strong>pattern dictionaries</strong>. Let us see step by step how to build such a list using the example stated just above.</p> <h3 id="a-finding-mentions-of-cancer">a. Finding mentions of cancer</h3> <p>To do this, we can build either a set of <code>terms</code> or a set of <code>regex</code>. <code>terms</code> will be used to search for exact matches in the text. While less flexible, it is faster than using regex. In our case we could use the following lists (which are of course absolutely not exhaustives):</p> <div class="highlight"><pre><span></span><code><span class="n">terms</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">"cancer"</span><span class="p">,</span>
    <span class="s2">"tumeur"</span><span class="p">,</span>
<span class="p">]</span>

<span class="n">regex</span> <span class="o">=</span> <span class="p">[</span>
    <span class="sa">r</span><span class="s2">"adeno(carcinom|[\s-]?k)"</span><span class="p">,</span>
    <span class="s2">"neoplas"</span><span class="p">,</span>
    <span class="s2">"melanom"</span><span class="p">,</span>
<span class="p">]</span>
</code></pre></div> <p>Maybe we want to exclude mentions of benign cancers:</p> <div class="highlight"><pre><span></span><code><span class="n">benign</span> <span class="o">=</span> <span class="s2">"benign|benin"</span>
</code></pre></div> <h3 id="b-find-mention-of-a-stage-and-extract-its-value">b. Find mention of a <em>stage</em> and extract its value</h3> <p>For this we will forge a RegEx with one capturing group (basically a pattern enclosed in parentheses):</p> <div class="highlight"><pre><span></span><code><span class="n">stage</span> <span class="o">=</span> <span class="s2">"stade (I{1,3}V?|[1234])"</span>
</code></pre></div> <p>This will extract stage between 1 and 4</p> <p>We can add a second regex to try to capture if the cancer is in a metastasis stage or not:</p> <div class="highlight"><pre><span></span><code><span class="n">metastase</span> <span class="o">=</span> <span class="s2">"(metasta)"</span>
</code></pre></div> <h3 id="c-the-complete-configuration">c. The complete configuration</h3> <p>We can now put everything together:</p> <div class="highlight"><pre><span></span><code><span class="n">cancer</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
    <span class="n">source</span><span class="o">=</span><span class="s2">"Cancer solide"</span><span class="p">,</span>
    <span class="n">regex</span><span class="o">=</span><span class="n">regex</span><span class="p">,</span>
    <span class="n">terms</span><span class="o">=</span><span class="n">terms</span><span class="p">,</span>
    <span class="n">regex_attr</span><span class="o">=</span><span class="s2">"NORM"</span><span class="p">,</span>
    <span class="n">exclude</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
        <span class="n">regex</span><span class="o">=</span><span class="n">benign</span><span class="p">,</span>
        <span class="n">window</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
    <span class="p">),</span>
    <span class="n">assign</span><span class="o">=</span><span class="p">[</span>
        <span class="nb">dict</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="s2">"stage"</span><span class="p">,</span>
            <span class="n">regex</span><span class="o">=</span><span class="n">stage</span><span class="p">,</span>
            <span class="n">window</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span>
            <span class="n">replace_entity</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">reduce_mode</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="nb">dict</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="s2">"metastase"</span><span class="p">,</span>
            <span class="n">regex</span><span class="o">=</span><span class="n">metastase</span><span class="p">,</span>
            <span class="n">window</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
            <span class="n">replace_entity</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">reduce_mode</span><span class="o">=</span><span class="s2">"keep_last"</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">],</span>
<span class="p">)</span>
</code></pre></div> <p>Here the configuration consists of a single dictionary. We might want to also include lymphoma in the matcher:</p> <div class="highlight"><pre><span></span><code><span class="n">lymphome</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
    <span class="n">source</span><span class="o">=</span><span class="s2">"Lymphome"</span><span class="p">,</span>
    <span class="n">regex</span><span class="o">=</span><span class="p">[</span><span class="s2">"lymphom"</span><span class="p">,</span> <span class="s2">"lymphangio"</span><span class="p">],</span>
    <span class="n">regex_attr</span><span class="o">=</span><span class="s2">"NORM"</span><span class="p">,</span>
    <span class="n">exclude</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span>
        <span class="n">regex</span><span class="o">=</span><span class="p">[</span><span class="s2">"hodgkin"</span><span class="p">],</span>  <span class="c1"># (1)</span>
        <span class="n">window</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
    <span class="p">),</span>
<span class="p">)</span>
</code></pre></div> <ol> <li>We are excluding "Lymphome de Hodgkin" here</li> </ol> <p>In this case, the configuration can be concatenated in a list:</p> <div class="highlight"><pre><span></span><code><span class="n">patterns</span> <span class="o">=</span> <span class="p">[</span><span class="n">cancer</span><span class="p">,</span> <span class="n">lymphome</span><span class="p">]</span>
</code></pre></div> <h2 id="available-parameters-for-more-flexibility">Available parameters for more flexibility</h2> <p>3 main parameters can be used to refine how entities will be formed</p> <h3 id="the-include_assigned-parameter">The <code>include_assigned</code> parameter</h3> <p>Following the previous example, you might want your extracted entities to <strong>include</strong>, if found, the cancer stage and the metastasis status. This can be achieved by setting <code>include_assigned=True</code> in the pipe configuration.</p> <p>For instance, from the sentence "Le patient a un cancer au stade 3", the extracted entity will be:</p> <ul> <li>"cancer" if <code>include_assigned=False</code></li> <li>"cancer au stade 3" if <code>include_assigned=True</code></li> </ul> <h3 id="the-reduce_mode-parameter">The <code>reduce_mode</code> parameter</h3> <p>It may happen that an assignment matches more than once. For instance, in the (nonsensical) sentence "Le patient a un cancer au stade 3 et au stade 4", both "stade 3" and "stade 4" will be matched by the <code>stage</code> assign key. Depending on your use case, you may want to keep all the extractions, or just one.</p> <ul> <li>If <code>reduce_mode=None</code> (default), all extractions are kept in a list</li> <li>If <code>reduce_mode="keep_first"</code>, only the extraction closest to the main matched entity will be kept (in this case, it would be "stade 3" since it is the closest to "cancer")</li> <li>If <code>reduce_mode=="keep_last"</code>, only the furthest extraction is kept.</li> </ul> <h3 id="the-replace_entity-parameter">The <code>replace_entity</code> parameter</h3> <p>This parameter can be se to <code>True</code> <strong>only for a single assign key per dictionary</strong>. This limitation comes from the purpose of this parameter: If set to <code>True</code>, the corresponding <code>assign</code> key will be returned as the entity, instead of the match itself. For clarity, let's take the same sentence "Le patient a un cancer au stade 3" as an example:</p> <ul> <li>if <code>replace_entity=True</code> in the <code>stage</code> assign key, then the extracted entity will be "stade 3" instead of "cancer"</li> <li>if <code>replace_entity=False</code> for every assign key, the returned entity will be, as expected, "cancer"</li> </ul> <p><strong>Please notice</strong> that with <code>replace_entity</code> set to True, if the correponding assign key matches nothing, the entity will be discarded.</p> <h2 id="examples">Examples</h2> <div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">edsnlp</span><span class="o">,</span> <span class="nn">edsnlp.pipes</span> <span class="k">as</span> <span class="nn">eds</span>

<span class="n">nlp</span> <span class="o">=</span> <span class="n">edsnlp</span><span class="o">.</span><span class="n"><html><head></head><body><a class="discrete-link" href="../../../reference/edsnlp/core/pipeline/#edsnlp.core.pipeline.blank">blank</a></body></html></span><span class="p">(</span><span class="s2">"eds"</span><span class="p">)</span>

<span class="n">nlp</span><span class="o">.</span><span class="n"><html><head></head><body><a class="discrete-link" href="../../../reference/edsnlp/core/pipeline/#edsnlp.core.pipeline.Pipeline.add_pipe">add_pipe</a></body></html></span><span class="p">(</span><a href="../sentences/#edsnlp.pipes.core.sentences.factory.create_component">eds.sentences</a><span class="p">())</span>
<span class="n">nlp</span><span class="o">.</span><span class="n"><html><head></head><body><a class="discrete-link" href="../../../reference/edsnlp/core/pipeline/#edsnlp.core.pipeline.Pipeline.add_pipe">add_pipe</a></body></html></span><span class="p">(</span><a href="../normalizer/#edsnlp.pipes.core.normalizer.factory.create_component">eds.normalizer</a><span class="p">())</span>
<span class="n">nlp</span><span class="o">.</span><span class="n"><html><head></head><body><a class="discrete-link" href="../../../reference/edsnlp/core/pipeline/#edsnlp.core.pipeline.Pipeline.add_pipe">add_pipe</a></body></html></span><span class="p">(</span>
    <a href="#edsnlp.pipes.core.contextual_matcher.factory.create_component">eds.contextual_matcher</a><span class="p">(</span>
        <span class="n">patterns</span><span class="o">=</span><span class="n">patterns</span><span class="p">,</span>
        <span class="n">label</span><span class="o">=</span><span class="s2">"cancer"</span><span class="p">,</span>
    <span class="p">),</span>
<span class="p">)</span>
</code></pre></div> <p>Let us see what we can get from this pipeline with a few examples</p> <div class="tabbed-set tabbed-alternate" data-tabs="1:3"><input checked="checked" id="simple-match" name="__tabbed_1" type="radio"/><input id="exclusion-rule" name="__tabbed_1" type="radio"/><input id="extracting-additional-infos" name="__tabbed_1" type="radio"/><div class="tabbed-labels"><label for="simple-match">Simple match</label><label for="exclusion-rule">Exclusion rule</label><label for="extracting-additional-infos">Extracting additional infos</label></div> <div class="tabbed-content"> <div class="tabbed-block"> <div class="highlight"><pre><span></span><code><span class="n">txt</span> <span class="o">=</span> <span class="s2">"Le patient a eu un cancer il y a 5 ans"</span>
<span class="n">doc</span> <span class="o">=</span> <span class="n">nlp</span><span class="p">(</span><span class="n">txt</span><span class="p">)</span>
<span class="n">ent</span> <span class="o">=</span> <span class="n">doc</span><span class="o">.</span><span class="n">ents</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

<span class="n">ent</span><span class="o">.</span><span class="n">label_</span>
<span class="c1"># Out: cancer</span>

<span class="n">ent</span><span class="o">.</span><span class="n">_</span><span class="o">.</span><span class="n">source</span>
<span class="c1"># Out: Cancer solide</span>

<span class="n">ent</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="n">ent</span><span class="o">.</span><span class="n">start</span><span class="p">,</span> <span class="n">ent</span><span class="o">.</span><span class="n">end</span>
<span class="c1"># Out: ('cancer', 5, 6)</span>
</code></pre></div> </div> <div class="tabbed-block"> <p>Let us check that when a <em>benign</em> mention is present, the extraction is excluded:</p> <div class="highlight"><pre><span></span><code><span class="n">txt</span> <span class="o">=</span> <span class="s2">"Le patient a eu un cancer relativement b√©nin il y a 5 ans"</span>
<span class="n">doc</span> <span class="o">=</span> <span class="n">nlp</span><span class="p">(</span><span class="n">txt</span><span class="p">)</span>

<span class="n">doc</span><span class="o">.</span><span class="n">ents</span>
<span class="c1"># Out: ()</span>
</code></pre></div> </div> <div class="tabbed-block"> <p>All informations extracted from the provided <code>assign</code> configuration can be found in the <code>assigned</code> attribute under the form of a dictionary:</p> <div class="highlight"><pre><span></span><code><span class="n">txt</span> <span class="o">=</span> <span class="s2">"Le patient a eu un cancer de stade 3."</span>
<span class="n">doc</span> <span class="o">=</span> <span class="n">nlp</span><span class="p">(</span><span class="n">txt</span><span class="p">)</span>

<span class="n">doc</span><span class="o">.</span><span class="n">ents</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">_</span><span class="o">.</span><span class="n">assigned</span>
<span class="c1"># Out: {'stage': '3'}</span>
</code></pre></div> </div> </div> </div> <p>However, most of the configuration is provided in the <code>patterns</code> key, as a <strong>pattern dictionary</strong> or a <strong>list of pattern dictionaries</strong></p> <h2 id="the-pattern-dictionary">The pattern dictionary</h2> <h3 id="description">Description</h3> <p>A patterr is a nested dictionary with the following keys:</p> <div class="tabbed-set tabbed-alternate" data-tabs="2:6"><input checked="checked" id="source" name="__tabbed_2" type="radio"/><input id="regex" name="__tabbed_2" type="radio"/><input id="regex_attr" name="__tabbed_2" type="radio"/><input id="terms" name="__tabbed_2" type="radio"/><input id="exclude" name="__tabbed_2" type="radio"/><input id="assign" name="__tabbed_2" type="radio"/><div class="tabbed-labels"><label for="source"><code>source</code></label><label for="regex"><code>regex</code></label><label for="regex_attr"><code>regex_attr</code></label><label for="terms"><code>terms</code></label><label for="exclude"><code>exclude</code></label><label for="assign"><code>assign</code></label></div> <div class="tabbed-content"> <div class="tabbed-block"> <p>A label describing the pattern</p> </div> <div class="tabbed-block"> <p>A single Regex or a list of Regexes</p> </div> <div class="tabbed-block"> <p>An attributes to overwrite the given <code>attr</code> when matching with Regexes.</p> </div> <div class="tabbed-block"> <p>A single term or a list of terms (for exact matches)</p> </div> <div class="tabbed-block"> <p>A dictionary (or list of dictionaries) to define exclusion rules. Exclusion rules are given as Regexes, and if a match is found in the surrounding context of an extraction, the extraction is removed. Each dictionary should have the following keys:</p> <div class="tabbed-set tabbed-alternate" data-tabs="3:2"><input checked="checked" id="window" name="__tabbed_3" type="radio"/><input id="regex_1" name="__tabbed_3" type="radio"/><div class="tabbed-labels"><label for="window"><code>window</code></label><label for="regex_1"><code>regex</code></label></div> <div class="tabbed-content"> <div class="tabbed-block"> <p>Size of the context to use (in number of words). You can provide the window as:</p> <ul> <li>A positive integer, in this case the used context will be taken <strong>after</strong> the extraction</li> <li>A negative integer, in this case the used context will be taken <strong>before</strong> the extraction</li> <li>A tuple of integers <code>(start, end)</code>, in this case the used context will be the snippet from <code>start</code> tokens before the extraction to <code>end</code> tokens after the extraction</li> </ul> </div> <div class="tabbed-block"> <p>A single Regex or a list of Regexes.</p> </div> </div> </div> </div> <div class="tabbed-block"> <p>A dictionary to refine the extraction. Similarily to the <code>exclude</code> key, you can provide a dictionary to use on the context <strong>before</strong> and <strong>after</strong> the extraction.</p> <div class="tabbed-set tabbed-alternate" data-tabs="4:5"><input checked="checked" id="name" name="__tabbed_4" type="radio"/><input id="window_1" name="__tabbed_4" type="radio"/><input id="regex_2" name="__tabbed_4" type="radio"/><input id="replace_entity" name="__tabbed_4" type="radio"/><input id="reduce_mode" name="__tabbed_4" type="radio"/><div class="tabbed-labels"><label for="name"><code>name</code></label><label for="window_1"><code>window</code></label><label for="regex_2"><code>regex</code></label><label for="replace_entity"><code>replace_entity</code></label><label for="reduce_mode"><code>reduce_mode</code></label></div> <div class="tabbed-content"> <div class="tabbed-block"> <p>A name (string)</p> </div> <div class="tabbed-block"> <p>Size of the context to use (in number of words). You can provide the window as:</p> <ul> <li>A positive integer, in this case the used context will be taken <strong>after</strong> the extraction</li> <li>A negative integer, in this case the used context will be taken <strong>before</strong> the extraction</li> <li>A tuple of integers <code>(start, end)</code>, in this case the used context will be the snippet from <code>start</code> tokens before the extraction to <code>end</code> tokens after the extraction</li> </ul> </div> <div class="tabbed-block"> <p>A dictionary where keys are labels and values are <strong>Regexes with a single capturing group</strong></p> </div> <div class="tabbed-block"> <p>If set to <code>True</code>, the match from the corresponding assign key will be used as entity, instead of the main match. See <a class="autorefs autorefs-internal" href="#the-replace_entity-parameter">this paragraph</a></p> </div> <div class="tabbed-block"> <p>Set how multiple assign matches are handled. See the documentation of the <a class="autorefs autorefs-internal" href="#the-reduce_mode-parameter"><code>reduce_mode</code> parameter</a></p> </div> </div> </div> </div> </div> </div> <h3 id="a-full-pattern-dictionary-example">A full pattern dictionary example</h3> <div class="highlight"><pre><span></span><code><span class="nb">dict</span><span class="p">(</span>
    <span class="n">source</span><span class="o">=</span><span class="s2">"AVC"</span><span class="p">,</span>
    <span class="n">regex</span><span class="o">=</span><span class="p">[</span>
        <span class="s2">"accidents? vasculaires? cerebr"</span><span class="p">,</span>
    <span class="p">],</span>
    <span class="n">terms</span><span class="o">=</span><span class="s2">"avc"</span><span class="p">,</span>
    <span class="n">regex_attr</span><span class="o">=</span><span class="s2">"NORM"</span><span class="p">,</span>
    <span class="n">exclude</span><span class="o">=</span><span class="p">[</span>
        <span class="nb">dict</span><span class="p">(</span>
            <span class="n">regex</span><span class="o">=</span><span class="p">[</span><span class="s2">"service"</span><span class="p">],</span>
            <span class="n">window</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="nb">dict</span><span class="p">(</span>
            <span class="n">regex</span><span class="o">=</span><span class="p">[</span><span class="s2">" a "</span><span class="p">],</span>
            <span class="n">window</span><span class="o">=-</span><span class="mi">2</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">],</span>
    <span class="n">assign</span><span class="o">=</span><span class="p">[</span>
        <span class="nb">dict</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="s2">"neo"</span><span class="p">,</span>
            <span class="n">regex</span><span class="o">=</span><span class="sa">r</span><span class="s2">"(neonatal)"</span><span class="p">,</span>
            <span class="n">expand_entity</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">window</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="nb">dict</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="s2">"trans"</span><span class="p">,</span>
            <span class="n">regex</span><span class="o">=</span><span class="s2">"(transitoire)"</span><span class="p">,</span>
            <span class="n">expand_entity</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">window</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="nb">dict</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="s2">"hemo"</span><span class="p">,</span>
            <span class="n">regex</span><span class="o">=</span><span class="sa">r</span><span class="s2">"(hemorragique)"</span><span class="p">,</span>
            <span class="n">expand_entity</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
            <span class="n">window</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
        <span class="p">),</span>
        <span class="nb">dict</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="s2">"risk"</span><span class="p">,</span>
            <span class="n">regex</span><span class="o">=</span><span class="sa">r</span><span class="s2">"(risque)"</span><span class="p">,</span>
            <span class="n">expand_entity</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
            <span class="n">window</span><span class="o">=-</span><span class="mi">3</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">],</span>
<span class="p">)</span>
</code></pre></div> <div class="doc doc-object doc-attribute"> <div class="doc doc-contents first"> <h2 id="edsnlp.pipes.core.contextual_matcher.factory.create_component--parameters">Parameters</h2> <table> <thead> <tr> <th><b>PARAMETER</b></th> <th><b>DESCRIPTION</b></th> </tr> </thead> <tbody> <tr> <td><code>patterns</code></td> <td class="doc-param-details"> <p>The configuration dictionary</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code><span title="typing.Union">Union</span>[<span title="typing.Dict">Dict</span>[str, <span title="typing.Any">Any</span>], <span title="typing.List">List</span>[<span title="typing.Dict">Dict</span>[str, <span title="typing.Any">Any</span>]]]</code> </span> </p> </td> </tr> <tr> <td><code>assign_as_span</code></td> <td class="doc-param-details"> <p>Whether to store eventual extractions defined via the <code>assign</code> key as Spans or as string</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code>bool</code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code>False</code> </span> </p> </td> </tr> <tr> <td><code>attr</code></td> <td class="doc-param-details"> <p>Attribute to match on, eg <code>TEXT</code>, <code>NORM</code>, etc.</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code>str</code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code>NORM</code> </span> </p> </td> </tr> <tr> <td><code>ignore_excluded</code></td> <td class="doc-param-details"> <p>Whether to skip excluded tokens during matching.</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code>bool</code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code>False</code> </span> </p> </td> </tr> <tr> <td><code>ignore_space_tokens</code></td> <td class="doc-param-details"> <p>Whether to skip space tokens during matching.</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code>bool</code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code>False</code> </span> </p> </td> </tr> <tr> <td><code>alignment_mode</code></td> <td class="doc-param-details"> <p>Overwrite alignment mode.</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code>str</code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code>expand</code> </span> </p> </td> </tr> <tr> <td><code>regex_flags</code></td> <td class="doc-param-details"> <p>RegExp flags to use when matching, filtering and assigning (See <a href="https://docs.python.org/3/library/re.html#flags">here</a>)</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code><span title="typing.Union">Union</span>[<span title="re.RegexFlag">RegexFlag</span>, int]</code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code>0</code> </span> </p> </td> </tr> <tr> <td><code>include_assigned</code></td> <td class="doc-param-details"> <p>Whether to include (eventual) assign matches to the final entity</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code>bool</code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code>False</code> </span> </p> </td> </tr> <tr> <td><code>label_name</code></td> <td class="doc-param-details"> <p>Deprecated, use <code>label</code> instead. The label to assign to the matched entities</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code><span title="typing.Optional">Optional</span>[str]</code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> <tr> <td><code>label</code></td> <td class="doc-param-details"> <p>The label to assign to the matched entities</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code>str</code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code>None</code> </span> </p> </td> </tr> <tr> <td><code>span_setter</code></td> <td class="doc-param-details"> <p>How to set matches on the doc</p> <p> <span class="doc-param-annotation"> <b>TYPE:</b> <code><a class="autorefs autorefs-internal" href="../../ner/#edsnlp.pipes.base.SpanSetterArg" title="edsnlp.pipes.base.SpanSetterArg">SpanSetterArg</a></code> </span> <span class="doc-param-default"> <b>DEFAULT:</b> <code>{'ents': True}</code> </span> </p> </td> </tr> </tbody> </table> </div> </div><h2 id="authors-and-citation">Authors and citation</h2> <p>The <code><a href="../matcher/#edsnlp.pipes.core.matcher.factory.create_component">eds.matcher</a></code> pipeline component was developed by AP-HP's Data Science team.</p> <div class="footnote"><hr/><ol></ol></div> <script async="" crossorigin="anonymous" data-category="Announcements" data-category-id="DIC_kwDOG97JnM4CkS1h" data-emit-metadata="0" data-input-position="bottom" data-lang="en" data-mapping="title" data-reactions-enabled="1" data-repo="aphp/edsnlp" data-repo-id="R_kgDOG97JnA" data-strict="0" data-theme="https://aphp.github.io/edsnlp/master/assets/stylesheets/giscus_light_theme.css" loading="lazy" src="https://giscus.app/client.js">
</script> <script>
    var giscus = document.querySelector("script[src*=giscus]")

    // Set palette on initial load
    var palette = __md_get("__palette")
    if (palette && typeof palette.color === "object") {
        var theme = palette.color.scheme === "slate"
            ? "https://aphp.github.io/edsnlp/master/assets/stylesheets/giscus_dark_theme.css"
            : "https://aphp.github.io/edsnlp/master/assets/stylesheets/giscus_light_theme.css"

        // Instruct Giscus to set theme
        giscus.setAttribute("data-theme", theme)
    }

    // Register event handlers after documented loaded
    document.addEventListener("DOMContentLoaded", function () {
        var ref = document.querySelector("[data-md-component=palette]")
        ref.addEventListener("change", function () {
            var palette = __md_get("__palette")
            if (palette && typeof palette.color === "object") {
                var theme = palette.color.scheme === "slate"
                    ? "https://aphp.github.io/edsnlp/master/assets/stylesheets/giscus_dark_theme.css"
                    : "https://aphp.github.io/edsnlp/master/assets/stylesheets/giscus_light_theme.css"

                // Instruct Giscus to change theme
                var frame = document.querySelector(".giscus-frame")
                frame.contentWindow.postMessage(
                    {giscus: {setConfig: {theme}}},
                    "https://giscus.app"
                )
            }
        })
    })
</script> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button class="md-top md-icon" data-md-component="top" hidden="" type="button"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg> Back to top </button> </main> <footer class="md-footer"> <nav aria-label="Footer" class="md-footer__inner md-grid"> <a aria-label="Previous: Terminology" class="md-footer__link md-footer__link--prev" href="../terminology/"> <div class="md-footer__button md-icon"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg> </div> <div class="md-footer__title"> <span class="md-footer__direction"> Previous </span> <div class="md-ellipsis"> Terminology </div> </div> </a> <a aria-label="Next: Endlines" class="md-footer__link md-footer__link--next" href="../endlines/"> <div class="md-footer__title"> <span class="md-footer__direction"> Next </span> <div class="md-ellipsis"> Endlines </div> </div> <div class="md-footer__button md-icon"> <svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"></path></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class="md-copyright"> Made with <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank"> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class="md-dialog" data-md-component="dialog"> <div class="md-dialog__inner md-typeset"></div> </div> <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tracking", "navigation.instant", "navigation.indexes", "navigation.prune", "navigation.top", "navigation.footer", "content.code.annotate", "content.code.copy", "announce.dismiss"], "search": "../../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"default": "latest", "provider": "mike"}}</script> <script src="../../../assets/javascripts/bundle.83f73b43.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/vega@5"></script> <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script> <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script> <script src="../../../assets/termynal/termynal.js"></script> </body> </html>